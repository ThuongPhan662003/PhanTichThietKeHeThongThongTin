{% extends "user/nguoidung/base_user.html" %}

{% block title %}
Chi Tiết Hóa Đơn
{% endblock %}

{% block content %}
<section class="section my-5">
  <div class="container">
    <h2 class="text-center text-uppercase fw-bold mb-4">Chi Tiết Hóa Đơn</h2>
    
    <!-- Thông tin hóa đơn -->
    <div class="card shadow-sm p-4 mb-5">
      <h4 class="fw-bold mb-3">Thông tin hóa đơn</h4>
      <ul class="list-group list-group-flush">
        <li class="list-group-item"><strong>Mã Hóa Đơn:</strong> {{ hoa_don.MaHD }}</li>
        <li class="list-group-item"><strong>Ngày Xuất:</strong> {{ hoa_don.NgayXuat.strftime('%d-%m-%Y') }}</li>
        <li class="list-group-item"><strong>Tổng Tiền:</strong> {{ hoa_don.TongTien | floatformat:2 }} VNĐ</li>
        <li class="list-group-item"><strong>Tiền Thuế:</strong> {{ hoa_don.TienThue | floatformat:2 }} VNĐ</li>
        <li class="list-group-item"><strong>Trạng Thái:</strong> 
          <span class="badge {{ 'bg-success' if hoa_don.TrangThai else 'bg-warning' }}">
            {{ 'Hoàn tất' if hoa_don.TrangThai else 'Đang xử lý' }}
          </span>
        </li>
      </ul>
    </div>

    <!-- Chi tiết đơn đặt hàng -->
    <div class="card shadow-sm p-4">
      <h4 class="fw-bold mb-3">Chi Tiết Đơn Đặt Hàng</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead class="table-light">
            <tr>
              <th class="text-center">Bàn</th>
              <th class="text-center">Thành Tiền (VNĐ)</th>
            </tr>
          </thead>
          <tbody>
            {% for ct in ct_ddh %}
            <tr>
              <td class="text-center">{{ ct.idBan }}</td>
              <td class="text-center">{{ ct.ThanhTien | floatformat:2 }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

<style>
  .card {
    border-radius: 10px;
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
  }

  .badge {
    font-size: 1rem;
    padding: 0.5em 1em;
    border-radius: 10px;
  }

  .table {
    margin-bottom: 0;
  }

  .table th, .table td {
    vertical-align: middle;
  }
</style>
{% endblock %}
